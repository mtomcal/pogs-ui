<div class="row-fluid" ng-controller="PogCtrl">
 <flyoutarea>
 <flyout>
  <div class="plaza-tree">
   <treerender divid="plaza" color="rgb(255,255,255)" genemodels="plazaResults" tree="plazaTreeData" url="BASE_URL" pogid="plazaId" height="1000" width="900" dy="5" method="plaza">
   <div id="phylo_plaza"></div>
   </treerender>
 </div>
 <h4><a href="{{BASE_URL}}#/plaza/{{plazaId}}">Plaza Group {{plazaId}}</a></h4>
   <ul>
     <li ng-repeat="result in plazaResults">
     {{result}}
     </li>
   </ul>

 </flyout> 
 <flyoutbody>
<h2>Gramene Orthologous Group {{id}}</h2>
<approval update="loadedGroup" genemodels="genemodels"></approval>
<center><img ng-show="!loadedGroup" width="25" height="25" src="images/ajax-loader.gif"></center>
<table ng-hide="!loadedGroup" class="members table table-bordered table-striped">
  <thead>
    <tr>
      <th>Accession / Links</th>
      <th>Alternative Orthology</th>
      <th>Description</th>
    </tr>
  </thead>
  
  <tr ng-model="orgdata" ng-repeat="item in orgdata">
    <td><a target="_blank" href="{{urlmap(item.genemodel)}}">{{item.genemodel}}</a></td><td><plazaflyout style="btn btn-mini btn-success" gene="{{item.genemodel}}" callback="fetchPlaza(gene)"></plazaflyout></td>
    <td>{{item.desc}}</td>
  </tr>
  
</table>
<h3>Domain Architecture of POG Members</h3>
<center><img ng-show="!loadedOrtho" width="25" height="25" src="images/ajax-loader.gif"></center>
<table ng-hide="!loadedOrtho" class="domain-maps table table-bordered">
  <tr>
    <th>Gene Model</th>
    <th>Domain Map</th>
  </tr>
  <tr ng-model="domains" ng-repeat="(item, value) in domains">
    <td class="linkify"><a target="_blank" href="{{urlmap(item)}}">{{item}}</a></td>
    <td>
      <div ng-bind-html="value[1]"></div>
      <img src="http://cas-pogs.uoregon.edu{{value[0]}}" id="{{item}}">
    </td>
  </tr>
</table>
<h3>Experimentally Verified Intracellular Location</h3>

<table class="table table-bordered table-striped">
  <tr>
    <th>Accession</th>
    <th>Annotation</th>
    <th>Experimentally Verified Location</th>
    <th>Reference</th>
  </tr>
  <tr ng-repeat="item in ppdb">
    <td><a target="_blank" href="{{urlmap(item.query_gm)}}">{{item.query_gm}}</a></td>
    <td>{{item.annotation}}</td>
    <td>{{item.location}}</td>
    <td><a target="_blank" href="http://ppdb.tc.cornell.edu/dbsearch/gene.aspx?acc={{item.query_gm}}">Reference</a></td>
  </tr>
</table>

<h3>Predicted Intracellular Location</h3>
<tabset>
<tab heading="Mitochondrial, Chloroplast Targeting">
<table class="targeting-1 table table-bordered table-striped">
  <tr>
    <th>Accession</th>
    <th>Prediction Tool</th>
    <th>Chloroplast</th>
    <th>Mitochondria</th>
    <th>Signal Peptide</th>
    <th>None / Other</th>
    <th>Prediction</th>

  </tr>
  <tbody ng-repeat="item in predotar">
  <tr>
    <td rowspan="2"><a target="_blank" href="{{urlmap(item.query_gm)}}">{{item.query_gm}}</a></td>
    <td>Predotar</td>
    <td>{{item.ctp}}</td>
    <td>{{item.mtp}}</td>
    <td>{{item.er}}</td>
    <td>{{item.none}}</td>
    <td>{{item.prediction}}</td>
  </tr>
  <tr>
    <td>TargetP</td>
    <td>{{targetp[$index].ctp}}</td>
    <td>{{targetp[$index].mtp}}</td>
    <td>{{targetp[$index].sp}}</td>
    <td>{{targetp[$index].other}}</td>
    <td>{{targetp[$index].prediction}}</td>
  </tr>
  </tbody>
</table>
</tab>
<tab heading="Nuclear Targeting">
<table class="targeting-2 table table-bordered table-striped">
  <tr>
    <th>Accession</th>
    <th>Prediction Tool</th>
    <th>Nuclear</th>
    <th>Prediction</th>
  </tr>
  <tbody ng-repeat="item in prednls">
  <tr>
    <td rowspan="2"><a target="_blank" href="{{urlmap(item.query_gm)}}">{{item.query_gm}}</a></td>
    <td>PredictNLS</td>
    <td>{{item.nls}}</td>
    <td>{{item.prediction}}</td>
  </tr>
  <tr>
    <td>Nucpred</td>
    <td>{{nucpred[$index].score}}</td>
    <td>{{nucpred[$index].prediction}}</td>
  </tr>
  </tbody>
</table>
</tab>
</tabset>

<h3>Closely Related Proteins: Cladogram and Domain Architectures</h3>
<tabset>
<tab heading="Cladogram">

<treerender divid="pog" color="rgb(0,0,0)" genemodels="genemodels" tree="treeData" height="1000" width="1000" url="BASE_URL" pogid="id">
<div id="phylo_pog"></div>
</treerender>

<div class="row-fluid"></div>
</tab>
<tab select="loadBlastDomains()" heading="Domain Architecture of Closely Related Proteins">

<center><img ng-show="!loadedBlast" width="25" height="25" src="images/ajax-loader.gif"></center>
<table ng-hide="!loadedBlast" class="domain-maps table table-bordered">
  <tr>
    <th>Gene Model</th>
    <th>Domain Map</th>
  </tr>
  <tr ng-model="blast_domains" ng-repeat="(item, value) in blast_domains">
    <td class="linkify"><a target="_blank" href="{{urlmap(item)}}">{{item}}</a></td>
    <td>
      <div ng-bind-html="value[1]"></div>
      <img src="http://cas-pogs.uoregon.edu{{value[0]}}" id="{{item}}">
    </td>
  </tr>
</table>
</tab>

</tabset>


<h3>Data Mart</h3>

  <button type="button" class="btn btn-success" ng-click="dataSubmit('groups', 'fasta')">Sequences of POG members</button>
  <button type="button" class="btn btn-success" ng-click="dataSubmit('groups', 'align')">Alignment of POG members</button>
  <button type="button" class="btn btn-success" ng-click="dataSubmit('blast', 'fasta')">Sequences of Closely Related Proteins</button>
  <button type="button" class="btn btn-success" ng-click="dataSubmit('blast', 'align')">Alignment of Closely Related Proteins</button>
<br>
<br>

 </flyoutbody></flyoutarea></div>

